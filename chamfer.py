import numpy as np
from scipy.spatial import distance

# Define two sets of points (sensor astra line 6 -> set_A and kinect line 37 -> set_B)
set_A = np.array([[57.63186264038086,	543.0914916992188,	1637.654296875], [72.53990936279297,	428.4141845703125,	1658.3931884765625],	[86.81629943847656,	165.06307983398438,	1854.35205078125],	[88.29469299316406,	-28.917312622070312,	1874.514404296875],	[240.7890625,	353.2597351074219,	1673.91162109375],	[-76.6829605102539,	345.64703369140625,	1729.6597900390625],	[421.82696533203125,	163.97210693359375,	1727.7235107421875],	[-241.24923706054688,	194.07469177246094,	1876.0975341796875],	[608.8221435546875,	67.18851470947266,	1604.21484375],	[-470.66357421875,	130.75794982910156,	1821.79541015625],	[193.81671142578125,	-84.00901794433594,	1887.556640625],	[-11.094680786132812,	-85.82386779785156,	1910.806884765625],	[193.93463134765625,	-434.2275390625,	1687.4622802734375],	[-21.697172164916992,	-457.49273681640625,	1754.4718017578125],	[178.5402069091797,	-802.8812866210938,	1759.084228515625],	[-10.722647666931152,	-833.1898193359375,	1756.353759765625],	[646.22119140625,	47.83179473876953,	1579.5130615234375],	[-516.5464477539062,	118.0946044921875,	1810.9349365234375],	[76.0395278930664,	363.8580017089844,	1706.4293212890625],	[76.0395278930664,	363.8580017089844,	1706.4293212890625]])
set_B = np.array([[56.17872619628906,	825.3435668945312,	1934.024658203125],	[68.75387573242188,	718.2599487304688,	1882.86669921875],	[66.90169525146484,	410.4596252441406,	1920.5413818359375],	[63.6473388671875,	218.5729217529297,	1906.4451904296875],	[235.1640167236328,	653.328857421875,	1889.86181640625],	[-88.30923461914062,	653.6531982421875,	1938.6741943359375],	[406.684814453125,	443.08062744140625,	1902.122314453125],	[-251.48704528808594,	477.0599670410156,	2065.014404296875],	[578.5302734375,	350.1893615722656,	1731.7166748046875],	[-503.6893005371094,	418.6646423339844,	2051.532958984375],	[163.1868896484375,	131.5357666015625,	1903.6134033203125],	[-36.401123046875,	130.179931640625,	1906.3321533203125],	[174.0584259033203,	-266.00677490234375,	1792.351318359375],	[-56.444950103759766,	-264.77703857421875,	1787.400390625],	[175.10081481933594,	-639.0945434570312,	1725.1732177734375],	[-87.42356872558594,	-631.900146484375,	1698.12841796875],	[612.8993530273438,	331.6111145019531,	1697.635498046875],	[-554.1297607421875,	406.9855651855469,	2048.836669921875],	[68.26522064208984,	637.0535888671875,	1892.806396484375],	[68.26522064208984,	637.0535888671875,	1892.806396484375]])

def chamfer_distance(set1, set2):
    dist_matrix = distance.cdist(set1, set2, 'euclidean')
    dist1 = np.mean(np.min(dist_matrix, axis=1))
    dist2 = np.mean(np.min(dist_matrix, axis=0))
    return (dist1 + dist2) / 2

# Calculate Chamfer Distance
chamfer_dist = chamfer_distance(set_A, set_B)
print(f"Chamfer Distance: {chamfer_dist}")